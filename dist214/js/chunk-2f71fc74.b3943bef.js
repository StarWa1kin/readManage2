(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f71fc74"],{"02f4":function(e,t,o){var r=o("4588"),n=o("be13");e.exports=function(e){return function(t,o){var a,i,l=String(n(t)),c=r(o),s=l.length;return c<0||c>=s?e?"":void 0:(a=l.charCodeAt(c),a<55296||a>56319||c+1===s||(i=l.charCodeAt(c+1))<56320||i>57343?e?l.charAt(c):a:e?l.slice(c,c+2):i-56320+(a-55296<<10)+65536)}}},"0390":function(e,t,o){"use strict";var r=o("02f4")(!0);e.exports=function(e,t,o){return t+(o?r(e,t).length:1)}},"0bfb":function(e,t,o){"use strict";var r=o("cb7c");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"11e9":function(e,t,o){var r=o("52a7"),n=o("4630"),a=o("6821"),i=o("6a99"),l=o("69a8"),c=o("c69a"),s=Object.getOwnPropertyDescriptor;t.f=o("9e1e")?s:function(e,t){if(e=a(e),t=i(t,!0),c)try{return s(e,t)}catch(o){}if(l(e,t))return n(!r.f.call(e,t),e[t])}},"214f":function(e,t,o){"use strict";o("b0c5");var r=o("2aba"),n=o("32e9"),a=o("79e5"),i=o("be13"),l=o("2b4c"),c=o("520a"),s=l("species"),u=!a(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),f=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var o="ab".split(e);return 2===o.length&&"a"===o[0]&&"b"===o[1]}();e.exports=function(e,t,o){var p=l(e),d=!a(function(){var t={};return t[p]=function(){return 7},7!=""[e](t)}),m=d?!a(function(){var t=!1,o=/a/;return o.exec=function(){return t=!0,null},"split"===e&&(o.constructor={},o.constructor[s]=function(){return o}),o[p](""),!t}):void 0;if(!d||!m||"replace"===e&&!u||"split"===e&&!f){var g=/./[p],h=o(i,p,""[e],function(e,t,o,r,n){return t.exec===c?d&&!n?{done:!0,value:g.call(t,o,r)}:{done:!0,value:e.call(o,t,r)}:{done:!1}}),b=h[0],v=h[1];r(String.prototype,e,b),n(RegExp.prototype,p,2==t?function(e,t){return v.call(e,this,t)}:function(e){return v.call(e,this)})}}},"23a6":function(e,t,o){"use strict";o("c5f6"),o("28a5"),o("55dd");t["a"]={binary:function(e){e.sort(function(e,t){return e-t});for(var t=0;t<8;t++)e[t]!==t+1?e.splice(t,0,0):e.splice(t,1,1);return e.reverse().join("")},original:function(e){if(e){var t=e.split("").reverse(),o=[];for(var r in t)"0"!=t[r]&&o.push(Number(r)+1);return o}}}},"28a5":function(e,t,o){"use strict";var r=o("aae3"),n=o("cb7c"),a=o("ebd6"),i=o("0390"),l=o("9def"),c=o("5f1b"),s=o("520a"),u=o("79e5"),f=Math.min,p=[].push,d="split",m="length",g="lastIndex",h=4294967295,b=!u(function(){RegExp(h,"y")});o("214f")("split",2,function(e,t,o,u){var v;return v="c"=="abbc"[d](/(b)*/)[1]||4!="test"[d](/(?:)/,-1)[m]||2!="ab"[d](/(?:ab)*/)[m]||4!="."[d](/(.?)(.?)/)[m]||"."[d](/()()/)[m]>1||""[d](/.?/)[m]?function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!r(e))return o.call(n,e,t);var a,i,l,c=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,d=void 0===t?h:t>>>0,b=new RegExp(e.source,u+"g");while(a=s.call(b,n)){if(i=b[g],i>f&&(c.push(n.slice(f,a.index)),a[m]>1&&a.index<n[m]&&p.apply(c,a.slice(1)),l=a[0][m],f=i,c[m]>=d))break;b[g]===a.index&&b[g]++}return f===n[m]?!l&&b.test("")||c.push(""):c.push(n.slice(f)),c[m]>d?c.slice(0,d):c}:"0"[d](void 0,0)[m]?function(e,t){return void 0===e&&0===t?[]:o.call(this,e,t)}:o,[function(o,r){var n=e(this),a=void 0==o?void 0:o[t];return void 0!==a?a.call(o,n,r):v.call(String(n),o,r)},function(e,t){var r=u(v,e,this,t,v!==o);if(r.done)return r.value;var s=n(e),p=String(this),d=a(s,RegExp),m=s.unicode,g=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(b?"y":"g"),x=new d(b?s:"^(?:"+s.source+")",g),F=void 0===t?h:t>>>0;if(0===F)return[];if(0===p.length)return null===c(x,p)?[p]:[];var y=0,N=0,k=[];while(N<p.length){x.lastIndex=b?N:0;var S,w=c(x,b?p:p.slice(N));if(null===w||(S=f(l(x.lastIndex+(b?0:N)),p.length))===y)N=i(p,N,m);else{if(k.push(p.slice(y,N)),k.length===F)return k;for(var _=1;_<=w.length-1;_++)if(k.push(w[_]),k.length===F)return k;N=y=S}}return k.push(p.slice(y)),k}]})},"2f21":function(e,t,o){"use strict";var r=o("79e5");e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},5176:function(e,t,o){e.exports=o("51b6")},"520a":function(e,t,o){"use strict";var r=o("0bfb"),n=RegExp.prototype.exec,a=String.prototype.replace,i=n,l="lastIndex",c=function(){var e=/a/,t=/b*/g;return n.call(e,"a"),n.call(t,"a"),0!==e[l]||0!==t[l]}(),s=void 0!==/()??/.exec("")[1],u=c||s;u&&(i=function(e){var t,o,i,u,f=this;return s&&(o=new RegExp("^"+f.source+"$(?!\\s)",r.call(f))),c&&(t=f[l]),i=n.call(f,e),c&&i&&(f[l]=f.global?i.index+i[0].length:t),s&&i&&i.length>1&&a.call(i[0],o,function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(i[u]=void 0)}),i}),e.exports=i},"55dd":function(e,t,o){"use strict";var r=o("5ca1"),n=o("d8e8"),a=o("4bf8"),i=o("79e5"),l=[].sort,c=[1,2,3];r(r.P+r.F*(i(function(){c.sort(void 0)})||!i(function(){c.sort(null)})||!o("2f21")(l)),"Array",{sort:function(e){return void 0===e?l.call(a(this)):l.call(a(this),n(e))}})},"5dbc":function(e,t,o){var r=o("d3f4"),n=o("8b97").set;e.exports=function(e,t,o){var a,i=t.constructor;return i!==o&&"function"==typeof i&&(a=i.prototype)!==o.prototype&&r(a)&&n&&n(e,a),e}},"5f1b":function(e,t,o){"use strict";var r=o("23c6"),n=RegExp.prototype.exec;e.exports=function(e,t){var o=e.exec;if("function"===typeof o){var a=o.call(e,t);if("object"!==typeof a)throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return n.call(e,t)}},7006:function(e,t,o){},"8b97":function(e,t,o){var r=o("d3f4"),n=o("cb7c"),a=function(e,t){if(n(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=o("9b43")(Function.call,o("11e9").f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(n){t=!0}return function(e,o){return a(e,o),t?e.__proto__=o:r(e,o),e}}({},!1):void 0),check:a}},9093:function(e,t,o){var r=o("ce10"),n=o("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,n)}},a21f:function(e,t,o){var r=o("584a"),n=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return n.stringify.apply(n,arguments)}},aa77:function(e,t,o){var r=o("5ca1"),n=o("be13"),a=o("79e5"),i=o("fdef"),l="["+i+"]",c="​",s=RegExp("^"+l+l+"*"),u=RegExp(l+l+"*$"),f=function(e,t,o){var n={},l=a(function(){return!!i[e]()||c[e]()!=c}),s=n[e]=l?t(p):i[e];o&&(n[o]=s),r(r.P+r.F*l,"String",n)},p=f.trim=function(e,t){return e=String(n(e)),1&t&&(e=e.replace(s,"")),2&t&&(e=e.replace(u,"")),e};e.exports=f},aae3:function(e,t,o){var r=o("d3f4"),n=o("2d95"),a=o("2b4c")("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==n(e))}},b0c5:function(e,t,o){"use strict";var r=o("520a");o("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},c5f6:function(e,t,o){"use strict";var r=o("7726"),n=o("69a8"),a=o("2d95"),i=o("5dbc"),l=o("6a99"),c=o("79e5"),s=o("9093").f,u=o("11e9").f,f=o("86cc").f,p=o("aa77").trim,d="Number",m=r[d],g=m,h=m.prototype,b=a(o("2aeb")(h))==d,v="trim"in String.prototype,x=function(e){var t=l(e,!1);if("string"==typeof t&&t.length>2){t=v?t.trim():p(t,3);var o,r,n,a=t.charCodeAt(0);if(43===a||45===a){if(o=t.charCodeAt(2),88===o||120===o)return NaN}else if(48===a){switch(t.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+t}for(var i,c=t.slice(2),s=0,u=c.length;s<u;s++)if(i=c.charCodeAt(s),i<48||i>n)return NaN;return parseInt(c,r)}}return+t};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(e){var t=arguments.length<1?0:e,o=this;return o instanceof m&&(b?c(function(){h.valueOf.call(o)}):a(o)!=d)?i(new g(x(t)),o,m):x(t)};for(var F,y=o("9e1e")?s(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),N=0;y.length>N;N++)n(g,F=y[N])&&!n(m,F)&&f(m,F,u(g,F));m.prototype=h,h.constructor=m,o("2aba")(r,d,m)}},cc77:function(e,t,o){"use strict";var r=o("7006"),n=o.n(r);n.a},ddc2:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("breadNav",{attrs:{nowLocation:e.nowLocation}}),o("el-form",{staticClass:"operate",attrs:{inline:!0,model:e.formInline}},[o("el-form-item",{attrs:{label:""}},[o("el-input",{attrs:{placeholder:"企业名称/操作者",clearable:"",size:"small"},model:{value:e.formInline.content,callback:function(t){e.$set(e.formInline,"content",t)},expression:"formInline.content"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.search}},[e._v("查询")]),o("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.add}},[e._v("新增企业")])],1)],1),o("el-table",{ref:"multipleTable",attrs:{data:e.tableData,"tooltip-effect":"dark",stripe:""},on:{"selection-change":e.handleSelectionChange}},[o("el-table-column",{attrs:{type:"selection",width:"55"}}),e._l(e.thead,function(e,t){return o("el-table-column",{key:t,attrs:{label:e.label,prop:e.prop}})}),o("el-table-column",{attrs:{label:"操作",width:"280"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini"},on:{click:function(o){return e.handleUpdate(t.$index,t.row)}}},[e._v("更新基础信息")]),o("el-button",{attrs:{size:"mini"},on:{click:function(o){return e.handleObserveble(t.$index,t.row)}}},[e._v("查看设备")]),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],2),o("div",{staticClass:"page"},[o("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,15,20],"page-size":e.pageSize,layout:"total, sizes,prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}})],1),o("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogFormVisible,width:e.dialogWidth},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.dialogClose}},["新增"==e.dialogTitle?o("el-form",{ref:"ruleForm",attrs:{model:e.dialogForm,rules:e.rules,size:"small"}},[o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"账号","label-width":"120px",prop:"account"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.dialogForm.account,callback:function(t){e.$set(e.dialogForm,"account",t)},expression:"dialogForm.account"}})],1),o("el-form-item",{attrs:{label:"企业名称","label-width":"120px",prop:"comName"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.dialogForm.comName,callback:function(t){e.$set(e.dialogForm,"comName",t)},expression:"dialogForm.comName"}})],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"联系人名称","label-width":"120px"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.dialogForm.realName,callback:function(t){e.$set(e.dialogForm,"realName",t)},expression:"dialogForm.realName"}})],1),o("el-form-item",{attrs:{label:"联系方式","label-width":"120px",prop:"phone"}},[o("el-input",{attrs:{autocomplete:"off",maxlength:"11"},model:{value:e.dialogForm.phone,callback:function(t){e.$set(e.dialogForm,"phone",t)},expression:"dialogForm.phone"}})],1)],1)],1),o("el-row",[o("el-form-item",{attrs:{label:"root状态","label-width":"120px"}},[o("el-select",{attrs:{placeholder:"非ROOT /ROOT"},model:{value:e.dialogForm.rootStatus,callback:function(t){e.$set(e.dialogForm,"rootStatus",t)},expression:"dialogForm.rootStatus"}},[o("el-option",{attrs:{label:"root",value:"1"}}),o("el-option",{attrs:{label:"非root",value:"2"}})],1)],1),o("el-form-item",{attrs:{label:"功能开关","label-width":"120px"}},[o("el-checkbox-group",{model:{value:e.dialogForm.gnkg,callback:function(t){e.$set(e.dialogForm,"gnkg",t)},expression:"dialogForm.gnkg"}},e._l(e.gnOptions,function(t){return o("el-checkbox-button",{key:t,attrs:{label:t}},[e._v(e._s(t))])}),1)],1),o("el-form-item",{attrs:{label:"设备数量","label-width":"120px"}},[o("el-input-number",{attrs:{min:1,max:500},model:{value:e.dialogForm.deviceSize,callback:function(t){e.$set(e.dialogForm,"deviceSize",t)},expression:"dialogForm.deviceSize"}})],1)],1)],1):e._e(),"更新"==e.dialogTitle?o("el-form",{ref:"ruleForm",attrs:{model:e.dialogFormUpdate,rules:e.rules,size:"small"}},[o("el-form-item",{attrs:{label:"企业名称","label-width":"120px",prop:"comName"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.dialogFormUpdate.comName,callback:function(t){e.$set(e.dialogFormUpdate,"comName",t)},expression:"dialogFormUpdate.comName"}})],1),o("el-form-item",{attrs:{label:"联系人名称","label-width":"120px",prop:"realName"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.dialogFormUpdate.realName,callback:function(t){e.$set(e.dialogFormUpdate,"realName",t)},expression:"dialogFormUpdate.realName"}})],1),o("el-form-item",{attrs:{label:"联系方式","label-width":"120px",prop:"phone"}},[o("el-input",{attrs:{autocomplete:"off",maxlength:"11"},model:{value:e.dialogFormUpdate.phone,callback:function(t){e.$set(e.dialogFormUpdate,"phone",t)},expression:"dialogFormUpdate.phone"}})],1)],1):e._e(),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.ok()}}},[e._v("确 定")])],1)],1)],1)},n=[],a=o("f499"),i=o.n(a),l=o("5176"),c=o.n(l),s=o("c1fb"),u=o("23a6"),f=[{required:!0,message:"此为必填项",trigger:"blur"}],p=[{required:!0,message:"此为必填项",trigger:"blur"},{pattern:/0?(13|14|15|17|18|19)[0-9]{9}/,message:"手机号格式不对",trigger:"blur"}],d={components:{breadNav:function(){return o.e("chunk-6e760db3").then(o.bind(null,"76e3"))}},data:function(){return{nowLocation:["公司管理"],formInline:{content:""},multipleSelection:[],thead:[{label:"账号",prop:"account"},{label:"联系人名称",prop:"realName"},{label:"联系方式",prop:"phone"},{label:"企业名称",prop:"comName"},{label:"设备数量",prop:"deviceSize"},{label:"操作者",prop:"operator"}],tableData:[],currentPage:1,pageSize:10,total:0,dialogTitle:"",dialogFormVisible:!1,dialogWidth:"",dialogForm:{account:"",realName:"",phone:"",comName:"",deviceSize:"",rootStatus:"1",gnkg:[]},dialogFormUpdate:{comName:"",realName:"",phone:""},rules:{account:f,phone:p,comName:f,realName:f},gnOptions:[1,2,3,4,5,6,7,8]}},created:function(){this.getUserList()},methods:{handleSelectionChange:function(e){this.multipleSelection=e},handleUpdate:function(e,t){this.dialogTitle="更新",this.dialogWidth="30%";var o={account:t.account,comName:t.comName,realName:t.realName,phone:t.phone};c()(this.dialogFormUpdate,o),this.dialogFormVisible=!this.dialogFormVisible},handleObserveble:function(e,t){this.$router.push({path:"/home/deviceList",query:{comId:t.comId}})},handleDelete:function(e,t){var o=this;this.$confirm("确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(s["a"])("/manager/delCom","get",{comId:t.comId}).then(function(e){o.$message.success("删除成功"),o.getUserList()})})},handleSizeChange:function(e){this.pageSize=e,this.currentPage=1,this.getUserList()},handleCurrentChange:function(e){this.currentPage=e,this.getUserList()},dialogClose:function(){this.claerForm(),this.$refs.ruleForm.resetFields()},claerForm:function(){for(var e in this.dialogForm)this.dialogForm[e]="";this.dialogForm.gnkg=[]},getUserList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Object(s["a"])("/manager/userList","get",{page:this.currentPage,pageSize:this.pageSize,comName:t}).then(function(t){e.tableData=t.list,e.total=t.total})},search:function(){this.getUserList(this.formInline.content)},add:function(){this.dialogTitle="新增",this.dialogWidth="50%",this.dialogFormVisible=!this.dialogFormVisible},ok:function(){var e=this;"新增"==this.dialogTitle?this.$refs.ruleForm.validate(function(t){if(!t)return!1;var o=JSON.parse(i()(e.dialogForm)),r=[{gnkg:u["a"].binary(o.gnkg),size:o.deviceSize,type:o.rootStatus}];e.createJson(o,r),delete o.gnkg,delete o.deviceSize,delete o.rootStatus,Object(s["a"])("/manager/createCom","post",o).then(function(t){e.$message.success("添加成功"),e.dialogFormVisible=!e.dialogFormVisible,e.getUserList()})}):"更新"==this.dialogTitle&&this.$refs.ruleForm.validate(function(t){if(!t)return!1;Object(s["a"])("/manager/updateCom","post",e.dialogFormUpdate).then(function(t){e.getUserList(),e.$message.success("更新基础信息成功"),e.dialogFormVisible=!e.dialogFormVisible})})},createJson:function(e,t){for(var o in t)e["root["+o+"].size"]=t[o].size,e["root["+o+"].type"]=t[o].type,e["root["+o+"].gnkg"]=t[o].gnkg;return e}}},m=d,g=(o("cc77"),o("2877")),h=Object(g["a"])(m,r,n,!1,null,null,null);t["default"]=h.exports},f499:function(e,t,o){e.exports=o("a21f")},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-2f71fc74.b3943bef.js.map