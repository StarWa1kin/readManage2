(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b133128"],{"02f4":function(t,e,o){var n=o("4588"),r=o("be13");t.exports=function(t){return function(e,o){var a,i,l=String(r(e)),c=n(o),s=l.length;return c<0||c>=s?t?"":void 0:(a=l.charCodeAt(c),a<55296||a>56319||c+1===s||(i=l.charCodeAt(c+1))<56320||i>57343?t?l.charAt(c):a:t?l.slice(c,c+2):i-56320+(a-55296<<10)+65536)}}},"0390":function(t,e,o){"use strict";var n=o("02f4")(!0);t.exports=function(t,e,o){return e+(o?n(t,e).length:1)}},"0bfb":function(t,e,o){"use strict";var n=o("cb7c");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"11e9":function(t,e,o){var n=o("52a7"),r=o("4630"),a=o("6821"),i=o("6a99"),l=o("69a8"),c=o("c69a"),s=Object.getOwnPropertyDescriptor;e.f=o("9e1e")?s:function(t,e){if(t=a(t),e=i(e,!0),c)try{return s(t,e)}catch(o){}if(l(t,e))return r(!n.f.call(t,e),t[e])}},"214f":function(t,e,o){"use strict";o("b0c5");var n=o("2aba"),r=o("32e9"),a=o("79e5"),i=o("be13"),l=o("2b4c"),c=o("520a"),s=l("species"),u=!a(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var o="ab".split(t);return 2===o.length&&"a"===o[0]&&"b"===o[1]}();t.exports=function(t,e,o){var g=l(t),d=!a(function(){var e={};return e[g]=function(){return 7},7!=""[t](e)}),p=d?!a(function(){var e=!1,o=/a/;return o.exec=function(){return e=!0,null},"split"===t&&(o.constructor={},o.constructor[s]=function(){return o}),o[g](""),!e}):void 0;if(!d||!p||"replace"===t&&!u||"split"===t&&!f){var m=/./[g],h=o(i,g,""[t],function(t,e,o,n,r){return e.exec===c?d&&!r?{done:!0,value:m.call(e,o,n)}:{done:!0,value:t.call(o,e,n)}:{done:!1}}),b=h[0],v=h[1];n(String.prototype,t,b),r(RegExp.prototype,g,2==e?function(t,e){return v.call(t,this,e)}:function(t){return v.call(t,this)})}}},"23a6":function(t,e,o){"use strict";o("c5f6"),o("28a5"),o("55dd");e["a"]={binary:function(t){t.sort(function(t,e){return t-e});for(var e=0;e<8;e++)t[e]!==e+1?t.splice(e,0,0):t.splice(e,1,1);return t.reverse().join("")},original:function(t){if(t){var e=t.split("").reverse(),o=[];for(var n in e)"0"!=e[n]&&o.push(Number(n)+1);return o}}}},"28a5":function(t,e,o){"use strict";var n=o("aae3"),r=o("cb7c"),a=o("ebd6"),i=o("0390"),l=o("9def"),c=o("5f1b"),s=o("520a"),u=o("79e5"),f=Math.min,g=[].push,d="split",p="length",m="lastIndex",h=4294967295,b=!u(function(){RegExp(h,"y")});o("214f")("split",2,function(t,e,o,u){var v;return v="c"=="abbc"[d](/(b)*/)[1]||4!="test"[d](/(?:)/,-1)[p]||2!="ab"[d](/(?:ab)*/)[p]||4!="."[d](/(.?)(.?)/)[p]||"."[d](/()()/)[p]>1||""[d](/.?/)[p]?function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!n(t))return o.call(r,t,e);var a,i,l,c=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,d=void 0===e?h:e>>>0,b=new RegExp(t.source,u+"g");while(a=s.call(b,r)){if(i=b[m],i>f&&(c.push(r.slice(f,a.index)),a[p]>1&&a.index<r[p]&&g.apply(c,a.slice(1)),l=a[0][p],f=i,c[p]>=d))break;b[m]===a.index&&b[m]++}return f===r[p]?!l&&b.test("")||c.push(""):c.push(r.slice(f)),c[p]>d?c.slice(0,d):c}:"0"[d](void 0,0)[p]?function(t,e){return void 0===t&&0===e?[]:o.call(this,t,e)}:o,[function(o,n){var r=t(this),a=void 0==o?void 0:o[e];return void 0!==a?a.call(o,r,n):v.call(String(r),o,n)},function(t,e){var n=u(v,t,this,e,v!==o);if(n.done)return n.value;var s=r(t),g=String(this),d=a(s,RegExp),p=s.unicode,m=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(b?"y":"g"),x=new d(b?s:"^(?:"+s.source+")",m),y=void 0===e?h:e>>>0;if(0===y)return[];if(0===g.length)return null===c(x,g)?[g]:[];var S=0,F=0,w=[];while(F<g.length){x.lastIndex=b?F:0;var k,N=c(x,b?g:g.slice(F));if(null===N||(k=f(l(x.lastIndex+(b?0:F)),g.length))===S)F=i(g,F,p);else{if(w.push(g.slice(S,F)),w.length===y)return w;for(var I=1;I<=N.length-1;I++)if(w.push(N[I]),w.length===y)return w;F=S=k}}return w.push(g.slice(S)),w}]})},"2f21":function(t,e,o){"use strict";var n=o("79e5");t.exports=function(t,e){return!!t&&n(function(){e?t.call(null,function(){},1):t.call(null)})}},"520a":function(t,e,o){"use strict";var n=o("0bfb"),r=RegExp.prototype.exec,a=String.prototype.replace,i=r,l="lastIndex",c=function(){var t=/a/,e=/b*/g;return r.call(t,"a"),r.call(e,"a"),0!==t[l]||0!==e[l]}(),s=void 0!==/()??/.exec("")[1],u=c||s;u&&(i=function(t){var e,o,i,u,f=this;return s&&(o=new RegExp("^"+f.source+"$(?!\\s)",n.call(f))),c&&(e=f[l]),i=r.call(f,t),c&&i&&(f[l]=f.global?i.index+i[0].length:e),s&&i&&i.length>1&&a.call(i[0],o,function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(i[u]=void 0)}),i}),t.exports=i},"55dd":function(t,e,o){"use strict";var n=o("5ca1"),r=o("d8e8"),a=o("4bf8"),i=o("79e5"),l=[].sort,c=[1,2,3];n(n.P+n.F*(i(function(){c.sort(void 0)})||!i(function(){c.sort(null)})||!o("2f21")(l)),"Array",{sort:function(t){return void 0===t?l.call(a(this)):l.call(a(this),r(t))}})},"5dbc":function(t,e,o){var n=o("d3f4"),r=o("8b97").set;t.exports=function(t,e,o){var a,i=e.constructor;return i!==o&&"function"==typeof i&&(a=i.prototype)!==o.prototype&&n(a)&&r&&r(t,a),t}},"5f1b":function(t,e,o){"use strict";var n=o("23c6"),r=RegExp.prototype.exec;t.exports=function(t,e){var o=t.exec;if("function"===typeof o){var a=o.call(t,e);if("object"!==typeof a)throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==n(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},"8b97":function(t,e,o){var n=o("d3f4"),r=o("cb7c"),a=function(t,e){if(r(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=o("9b43")(Function.call,o("11e9").f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(r){e=!0}return function(t,o){return a(t,o),e?t.__proto__=o:n(t,o),t}}({},!1):void 0),check:a}},9093:function(t,e,o){var n=o("ce10"),r=o("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,r)}},"94f3":function(t,e,o){"use strict";var n=o("c1fb");e["a"]={data:function(){return{globalRoot:{},globalFroot:{},globalRootRemain:0,globalFrootRemain:0}},created:function(){this.getRemain()},methods:{getRemain:function(){var t=this;Object(n["a"])("/manager/fetchAgentLaveFunCode","get",{rootType:"1"}).then(function(e){t.globalRoot=e,t.computedRoot()}),Object(n["a"])("/manager/fetchAgentLaveFunCode","get",{rootType:"2"}).then(function(e){t.globalFroot=e,t.computedFroot()})},computedRoot:function(){var t=0;for(var e in this.globalRoot)t+=this.globalRoot[e].codeData.remain;this.globalRootRemain=t},computedFroot:function(){var t=0;for(var e in this.globalFroot)t+=this.globalFroot[e].codeData.remain;this.globalFrootRemain=t}}}},a1da:function(t,e,o){},a21f:function(t,e,o){var n=o("584a"),r=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return r.stringify.apply(r,arguments)}},aa77:function(t,e,o){var n=o("5ca1"),r=o("be13"),a=o("79e5"),i=o("fdef"),l="["+i+"]",c="​",s=RegExp("^"+l+l+"*"),u=RegExp(l+l+"*$"),f=function(t,e,o){var r={},l=a(function(){return!!i[t]()||c[t]()!=c}),s=r[t]=l?e(g):i[t];o&&(r[o]=s),n(n.P+n.F*l,"String",r)},g=f.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(s,"")),2&e&&(t=t.replace(u,"")),t};t.exports=f},aae3:function(t,e,o){var n=o("d3f4"),r=o("2d95"),a=o("2b4c")("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==r(t))}},ac6a:function(t,e,o){for(var n=o("cadf"),r=o("0d58"),a=o("2aba"),i=o("7726"),l=o("32e9"),c=o("84f2"),s=o("2b4c"),u=s("iterator"),f=s("toStringTag"),g=c.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=r(d),m=0;m<p.length;m++){var h,b=p[m],v=d[b],x=i[b],y=x&&x.prototype;if(y&&(y[u]||l(y,u,g),y[f]||l(y,f,b),c[b]=g,v))for(h in n)y[h]||a(y,h,n[h],!0)}},b0c5:function(t,e,o){"use strict";var n=o("520a");o("5ca1")({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},c5f6:function(t,e,o){"use strict";var n=o("7726"),r=o("69a8"),a=o("2d95"),i=o("5dbc"),l=o("6a99"),c=o("79e5"),s=o("9093").f,u=o("11e9").f,f=o("86cc").f,g=o("aa77").trim,d="Number",p=n[d],m=p,h=p.prototype,b=a(o("2aeb")(h))==d,v="trim"in String.prototype,x=function(t){var e=l(t,!1);if("string"==typeof e&&e.length>2){e=v?e.trim():g(e,3);var o,n,r,a=e.charCodeAt(0);if(43===a||45===a){if(o=e.charCodeAt(2),88===o||120===o)return NaN}else if(48===a){switch(e.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+e}for(var i,c=e.slice(2),s=0,u=c.length;s<u;s++)if(i=c.charCodeAt(s),i<48||i>r)return NaN;return parseInt(c,n)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,o=this;return o instanceof p&&(b?c(function(){h.valueOf.call(o)}):a(o)!=d)?i(new m(x(e)),o,p):x(e)};for(var y,S=o("9e1e")?s(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),F=0;S.length>F;F++)r(m,y=S[F])&&!r(p,y)&&f(p,y,u(m,y));p.prototype=h,h.constructor=p,o("2aba")(n,d,p)}},dac6:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("breadNav",{attrs:{nowLocation:t.nowLocation}}),o("el-form",{staticClass:"operate",attrs:{inline:!0,model:t.formInline,size:"small"}},[o("el-form-item",{attrs:{label:""}},[o("el-input",{attrs:{placeholder:"企业名称搜索"},model:{value:t.formInline.content,callback:function(e){t.$set(t.formInline,"content",e)},expression:"formInline.content"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")]),o("el-button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("新增企业")])],1)],1),o("p",[t._v("\n    代理用户您好,你当前剩余的root码剩余\n    "),o("span",{staticClass:"color"},[t._v(t._s(t.globalRootRemain))]),t._v("个,非root码剩余\n    "),o("span",{staticClass:"color"},[t._v(t._s(t.globalFrootRemain))]),t._v("个,感谢您对我们的支持！\n  ")]),o("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[o("el-table-column",{attrs:{type:"selection",width:"55"}}),o("el-table-column",{attrs:{prop:"account",label:"账号","min-width":"100",width:"200"}}),o("el-table-column",{attrs:{prop:"realName",label:"联系人名称","min-width":"100",width:"200"}}),o("el-table-column",{attrs:{prop:"phone",label:"联系方式","min-width":"100",width:"200"}}),o("el-table-column",{attrs:{prop:"comName",label:"企业名称","min-width":"100",width:"200"}}),o("el-table-column",{attrs:{prop:"deviceSize",label:"设备数量","min-width":"100",width:"200"}}),o("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{size:"mini"},on:{click:function(o){return t.handleObserveble(e.$index,e.row)}}},[t._v("查看设备")])]}}])})],1),o("div",{staticClass:"page"},[o("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-size":10,layout:"prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1),o("el-dialog",{attrs:{title:"新增",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.dialogClose}},[o("el-form",{ref:"ruleForm",attrs:{model:t.dialogForm,rules:t.ruleForm,size:"small"}},[o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"账号","label-width":"120px",prop:"account"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.dialogForm.account,callback:function(e){t.$set(t.dialogForm,"account",e)},expression:"dialogForm.account"}})],1),o("el-form-item",{attrs:{label:"企业名称","label-width":"120px",prop:"comName"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.dialogForm.comName,callback:function(e){t.$set(t.dialogForm,"comName",e)},expression:"dialogForm.comName"}})],1)],1),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"联系人名称","label-width":"120px",prop:"realName"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.dialogForm.realName,callback:function(e){t.$set(t.dialogForm,"realName",e)},expression:"dialogForm.realName"}})],1),o("el-form-item",{attrs:{label:"联系方式","label-width":"120px",prop:"phone"}},[o("el-input",{attrs:{maxlength:"11"},model:{value:t.dialogForm.phone,callback:function(e){t.$set(t.dialogForm,"phone",e)},expression:"dialogForm.phone"}})],1)],1)],1),o("el-row",[o("el-form-item",{attrs:{label:"root状态","label-width":"120px"}},[o("el-select",{attrs:{placeholder:"非ROOT /ROOT"},model:{value:t.dialogForm.rootStatus,callback:function(e){t.$set(t.dialogForm,"rootStatus",e)},expression:"dialogForm.rootStatus"}},[o("el-option",{attrs:{label:"root",value:"1"}}),o("el-option",{attrs:{label:"非root",value:"2"}})],1)],1),o("el-form-item",{attrs:{label:"功能开关","label-width":"120px"}},[o("el-checkbox-group",{model:{value:t.dialogForm.gnkg,callback:function(e){t.$set(t.dialogForm,"gnkg",e)},expression:"dialogForm.gnkg"}},t._l(t.gnOptions,function(e){return o("el-checkbox-button",{key:e,attrs:{label:e}},[t._v(t._s(e))])}),1)],1),o("el-form-item",{attrs:{label:"设备数量","label-width":"120px"}},[o("el-input-number",{attrs:{min:1,max:500},model:{value:t.dialogForm.deviceSize,callback:function(e){t.$set(t.dialogForm,"deviceSize",e)},expression:"dialogForm.deviceSize"}})],1)],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.ok()}}},[t._v("确 定")])],1)],1)],1)},r=[],a=(o("ac6a"),o("f499")),i=o.n(a),l=o("94f3"),c=o("c1fb"),s=o("23a6"),u=[{required:!0,message:"此为必填项",trigger:"blur"}],f={mixins:[l["a"]],components:{breadNav:function(){return o.e("chunk-6e760db3").then(o.bind(null,"76e3"))}},data:function(){return{nowLocation:["企业用户管理"],rootRemain:"",frootRemain:"",formInline:{content:""},multipleSelection:[],tableData:[],currentPage:1,total:0,dialogFormVisible:!1,dialogForm:{account:"",realName:"",phone:"",comName:"",deviceSize:"",rootStatus:"1",gnkg:[]},ruleForm:{account:u,realName:u,phone:u,comName:u},gnOptions:[1,2,3,4,5,6,7,8]}},mounted:function(){this.getUserList()},methods:{handleSelectionChange:function(t){this.multipleSelection=t},handleObserveble:function(t,e){this.$router.push({path:"/home/proxyDeviceList",query:{comId:e.comId}})},handleDelete:function(t,e){var o=this;this.$confirm("确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(c["a"])("/manager/delCom","get",{comId:e.comId}).then(function(t){o.$message.success("删除成功"),o.getUserList()})})},handleSizeChange:function(t){},handleCurrentChange:function(t){this.getUserList(t)},dialogClose:function(){this.claerForm()},claerForm:function(){for(var t in this.dialogForm)this.dialogForm[t]="gnkg"==t?[]:""},getUserList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object(c["a"])("/manager/userList","get",{page:e,pageSize:10,comName:o}).then(function(e){t.tableData=e.list,t.total=e.total})},search:function(){this.getUserList(1,this.formInline.content)},add:function(){this.dialogFormVisible=!this.dialogFormVisible},ok:function(){var t=JSON.parse(i()(this.dialogForm));t.gnkg=s["a"].binary(t.gnkg),this.validate(t)},createJson:function(t,e){for(var o in e)t["root["+o+"].size"]=e[o].deviceSize,t["root["+o+"].type"]=e[o].rootStatus,t["root["+o+"].gnkg"]=e[o].gnkg,t["root["+o+"].settingId"]=e[o].settingId;return delete t.gnkg,delete t.deviceSize,delete t.rootStatus,delete t.settingId,t},validate:function(t){var e=this,o="",n=!1;if("1"==t.rootStatus){if(0==this.globalRoot.length)return void this.$message.warning("你已使用完此类功能码或者你未购买此类码");this.globalRoot.forEach(function(r){r.codeData.gnkg==t.gnkg?r.codeData.remain>=t.deviceSize?(t.settingId=r.settingId,e.passValidate(t),n=!0):(o="你输入的数量大于剩余数",e.errInfo(o)):o="你未购买此类码"})}else if("2"==t.rootStatus){if(0==this.globalFroot.length)return void this.$message.warning("你已使用完此类功能码或者你未购买此类码");this.globalFroot.forEach(function(r){r.codeData.gnkg==t.gnkg&&(r.codeData.remain>=t.deviceSize?(t.settingId=r.settingId,e.passValidate(t),n=!0):(o="你输入的数量大于剩余数",e.errInfo(o)))})}!n&&o&&this.errInfo(o)},passValidate:function(t){var e=this,o=this.createJson(t,[t]);this.$refs.ruleForm.validate(function(t){t&&Object(c["a"])("/manager/createCom","post",o).then(function(t){e.$message.success("添加成功"),e.dialogFormVisible=!e.dialogFormVisible,e.getUserList(),e.getRemain()})})},errInfo:function(t){this.$message.warning(t)}}},g=f,d=(o("f30e"),o("2877")),p=Object(d["a"])(g,n,r,!1,null,"16ed78c4",null);e["default"]=p.exports},f30e:function(t,e,o){"use strict";var n=o("a1da"),r=o.n(n);r.a},f499:function(t,e,o){t.exports=o("a21f")},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-1b133128.e37c80e8.js.map